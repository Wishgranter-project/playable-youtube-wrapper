!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){var n=i(1);document.addEventListener("DOMContentLoaded",function(){window.player=new n({width:"auto",wrapperId:"youtube-wrapper"}),window.mediaPlayer=document.getElementById("media-player"),window.currentTime=document.getElementById("current-time"),window.remainingTime=document.getElementById("remaining-time"),window.progressBar=document.getElementById("progress-bar"),window.player.onTimeupdate=function(){window.currentTime.innerHTML=this.currentTimer,window.remainingTime.innerHTML=this.remainingTimer,window.progressBar.value=this.currentPercentage},window.player.onStateChange=function(e){this.waiting?window.mediaPlayer.classList.add("waiting"):window.mediaPlayer.classList.remove("waiting")},document.getElementById("toggle-play-payse").addEventListener("click",window.player.toggle.bind(window.player)),document.querySelectorAll("#media-list a").forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),window.player.setData({href:this.attributes.href.value}).then(()=>{window.player.play()}),document.getElementById("title").innerHTML=e.querySelector(":scope .title").innerHTML,document.getElementById("artist").innerHTML=e.querySelector(":scope .artist").innerHTML})}),document.getElementById("progress-bar").addEventListener("click",function(e){var t,i,n;t=e.clientX-this.offsetLeft,i=this.offsetWidth,n=Math.ceil(t/i*100)+"%",window.player.setCurrentTime(n)}),document.getElementById("volume-slider").addEventListener("change",function(){var e=parseInt(this.value);window.player.setVolume(e)})})},function(e,t,i){var n=i(2),r=i(3).loadExternalJs;class a extends n{constructor(e=null){super(),this.settings=this.defaults,"string"==typeof e?this.settings.wrapperId=e:this.settings={...this.defaults,...e},a.count++,this.settings.wrapperId=this.settings.wrapperId?this.settings.wrapperId:"youtube-wrapper"+a.count,this.settings.embbedId=this.settings.embbedId?this.settings.embbedId:"youtube-embbeded"+a.count,this.wrapper=null,this.ytPlayer=null,this.playerReady=!1,this.data=null,this.volume=100,this.currentTime=0,this.follower=null}get duration(){return this.ytPlayer&&this.ytPlayer.getDuration?this.ytPlayer.getDuration():0}async setData(e){return this.deployRootDiv(),this.data=e,e.href&&(e.id=a.getIdFromUrl(e.href)),this.waiting=!0,0==a.sdkLoaded&&null==a.sdkPromisse&&(a.sdkPromisse=a.loadSdk()),a.sdkLoaded?(this.startFollowing(),0==this.playerReady?this.initializePlayer().then(async()=>{this.playerReady=!0}):(this.ytPlayer.loadVideoById(this.data.id),new Promise(async(e,t)=>{e(this)}))):a.sdkPromisse.then(async()=>this.setData(e))}play(e=null){e&&this.setCurrentTime(e),this.ytPlayer.playVideo()}pause(){this.ytPlayer.pauseVideo()}setCurrentTime(e){var t=this.sanitizeGetSeconds(e);this.ytPlayer.seekTo(t,!0)}setVolume(e){this.volume=e,this.ytPlayer.setVolume(e)}cuePlaylist(e,t=null,i=0,n=null){this.ytPlayer.cuePlaylist(e)}reset(){this.stopFollowing(),this.ytPlayer&&(this.ytPlayer.destroy(),this.ytPlayer=null)}deployRootDiv(){if(this.wrapper)return!0;var e=document.getElementById(this.settings.wrapperId);this.wrapper=e||this.createDiv(this.settings.wrapperId,document.body),this.createDiv(this.settings.embbedId,this.wrapper)}async initializePlayer(){return new Promise(async(e,t)=>{var i=this.settings.width,n=this.settings.height;"auto"==this.settings.width&&(n=(i=this.wrapper.offsetWidth)/1.77),this.ytPlayer=new YT.Player(this.settings.embbedId,{width:i,height:n,videoId:this.data.id,startSeconds:0,host:"https://www.youtube.com",playerVars:{autoplay:1,controls:1},events:{onReady:t=>{e(this),this.callBackOnReady(t)},onError:e=>{t(e),this.callBackOnError(e)},onStateChange:this.callBackOnStateChange.bind(this)}})})}startFollowing(){this.follower=setInterval(this.following.bind(this),1e3)}stopFollowing(){clearInterval(this.follower)}following(){var e=this.ytPlayer&&this.ytPlayer.getCurrentTime?this.ytPlayer.getCurrentTime():0;e!=this.currentTime&&(this.currentTime=e,this.callBackOnTimeupdate())}callBackOnReady(e){this.setVolume(this.volume),this.onReady(e)}callBackOnStateChange(e){var t=e.data;switch(t){case-1:this.log("State change: -1 unstarted"),this.reproducing=!1,this.playing=!1,this.paused=!1;break;case 0:this.log("State change: 0 ended"),this.reproducing=!1,this.playing=!1,this.paused=!0,this.waiting=!1,this.callBackOnEnded();break;case 1:this.log("State change: 1 playing"),this.reproducing=!0,this.playing=!0,this.paused=!1,this.buffering=!1,this.waiting=!1,this.callbackOnReproducing();break;case 2:this.log("State change: 2 paused"),this.reproducing=!1,this.playing=!1,this.paused=!0,this.waiting=!1;break;case 3:this.log("State change: 3 buffering"),this.reproducing=!1,this.playing=!0,this.paused=!1,this.buffering=!0,this.waiting=!0;break;case 5:this.log("State change: 5 video cued"),this.play(0)}this.onStateChange(t)}callBackOnError(e){switch(e){case 2:this.log("Error 2: invalid parameters.");break;case 5:this.log("Error 5: An error related to the HTML5 player occurred.");break;case 100:this.log("Error 100: Video not found.");break;case 101:case 150:this.log("Error 101: The video's owner won't allow it on embbed players.")}this.onError(e)}callbackOnReproducing(){this.startFollowing()}callBackOnEnded(){this.stopFollowing(),this.onEnded()}callBackOnTimeupdate(){this.onTimeupdate()}createDiv(e,t){var i=document.createElement("div");return i.id=e,t.append(i),i}}a.sdkPromisse=null,a.sdkLoaded=!1,a.count=0,a.prototype.defaults={width:640,height:360},a.loadSdk=async function(){return new Promise(async(e,t)=>{r("https://www.youtube.com/iframe_api").then(async()=>{setTimeout(()=>{a.sdkLoaded=!0,e("YouTube SDK ready")},500)},()=>{t("Error loading SDK")})})},a.getIdFromUrl=function(e){return e.match(/v=([A-Za-z0-9-_]+)/)[1]},e.exports=a},function(e,t,i){"use strict";class n{toggle(){this.playing?this.pause():this.play()}get remainingTime(){return this.duration-this.currentTime}get currentTimer(){return n.secondsToStringRepresentation(this.currentTime)}get remainingTimer(){return n.secondsToStringRepresentation(this.remainingTime)}get currentPercentage(){var e,t;return e=Math.round(this.currentTime),t=Math.round(this.duration),isNaN(e)||isNaN(t)?0:0==e||0==t?0:e/t*100}get remainingPercentage(){return 100-this.currentPercentage}percent(e){return Math.round(this.duration/100*e)}sanitizeGetSeconds(e){var t;return t="string"==typeof e&&e.indexOf(":")>=0?n.stringRepresentationToSeconds(e):"string"==typeof e&&e.indexOf("%")>=0?this.percent(parseInt(e)):"string"==typeof e?parseInt(e):e,isNaN(t)&&(t=0),t}log(e){console.log(e)}onReady(){}onError(e){this.log(e)}onEnded(){}onTimeupdate(){}onStateChange(e){}}n.secondsToStringRepresentation=function(e){return isNaN(e)?"00:00":(e=Math.round(e),s=(r=(r=(i=Math.floor(e/60))-60*(t=Math.floor(i/60)))<10?"0"+r:r)+":"+(a=(a=e-60*i)<10?"0"+a:a),s=(n=t)>0?n+":"+s:s);var t,i,n,r,a,s},n.stringRepresentationToSeconds=function(e){var t,i,n;return!((t=e.match(/[0-9]+/g)).length>3)&&(n=parseInt(t[t.length-1]),i=parseInt(t[t.length-2]||0),3600*parseInt(t[t.length-3]||0)+60*i+n)},n.prototype.paused=!1,n.prototype.playing=!1,n.prototype.reproducing=!1,n.prototype.buffering=!1,n.prototype.waiting=!1,e.exports=n},function(e,t){e.exports.loadExternalJs=async function(e){return new Promise(async function(t,i){var n;(n=document.createElement("script")).async=!0,n.type="text/javascript",n.onload=function(e){t("SCRIPT: loaded")},n.onerror=function(e){i("SCRIPT: failed to load")},n.src=e,document.body.appendChild(n)})}}]);