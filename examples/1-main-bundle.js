!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){var n=i(1);function r(t){var e=document.createElement("p");e.innerHTML=t,window.logWindow.append(e)}document.addEventListener("DOMContentLoaded",function(){window.mediaPlayer=document.getElementById("media-player"),window.currentTime=document.getElementById("current-time"),window.remainingTime=document.getElementById("remaining-time"),window.progressBar=document.getElementById("progress-bar"),window.logWindow=document.querySelector("#log div"),window.player=new n({width:"auto",wrapperId:"youtube-wrapper"}),window.player.addEventListener("play",function(){r("Play")}).addEventListener("pause",function(){r("Pause")}).addEventListener("ended",function(){r("Ended")}).addEventListener("timeupdate",function(){window.currentTime.innerHTML=this.formattedCurrentTime,window.remainingTime.innerHTML=this.formattedRemainingTime,window.progressBar.value=this.currentPercentage}).addEventListener("waiting",function(){window.mediaPlayer.classList.add("waiting"),r("Waiting")}).addEventListener("playing",function(){window.mediaPlayer.classList.remove("waiting"),r("Playing")}).addEventListener("error",function(t){r(t.errorMessage)}),document.getElementById("toggle-play-pause").addEventListener("click",window.player.toggle.bind(window.player)),document.querySelectorAll("#media-list a").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),window.player.setData({href:this.attributes.href.value}).then(()=>{window.player.play()}),document.getElementById("title").innerHTML=t.querySelector(":scope .title").innerHTML,document.getElementById("artist").innerHTML=t.querySelector(":scope .artist").innerHTML})}),document.getElementById("progress-bar").addEventListener("click",function(t){var e,i,n;e=t.clientX-this.offsetLeft,i=this.offsetWidth,n=Math.ceil(e/i*100)+"%",window.player.seek(n)}),document.getElementById("volume-slider").addEventListener("change",function(){var t=parseInt(this.value);window.player.setVolume(t)})})},function(t,e,i){var n=i(2),r=i(5).loadExternalJs;class s extends n{constructor(t=null){super(),s.count++,this.settings=this.defaults,"string"==typeof t?this.settings.wrapperId=t:this.settings={...this.defaults,...t},this.settings.wrapperId=this.settings.wrapperId?this.settings.wrapperId:"youtube-wrapper-"+s.count,this.settings.embbedId=this.settings.embbedId?this.settings.embbedId:"youtube-embbeded-"+s.count,this.data=null,this.html={wrapper:null,ytPlayer:null},this.follower=null,this.state.currentTime=0,this.state.playerInitialized=!1}get currentTime(){return this.state.currentTime}get duration(){return this.html.ytPlayer&&this.html.ytPlayer.getDuration?this.html.ytPlayer.getDuration():0}async setData(t){return this.data=t,t.href&&(t.id=s.getIdFromUrl(t.href)),this.setUpWrappingDiv(),this.state.waiting=!0,0==s.sdkLoaded&&null==s.sdkPromisse&&(s.sdkPromisse=s.loadSdk()),s.sdkLoaded?(this.startFollowing(),0==this.state.playerInitialized?this.initializePlayer().then(async()=>{this.state.playerInitialized=!0}):(this.html.ytPlayer.loadVideoById(this.data.id),new Promise(async(t,e)=>{t(this)}))):s.sdkPromisse.then(async()=>this.setData(t))}seek(t){if(!this.state.playerInitialized)return!1;var e=this.sanitizeGetSeconds(t);this.html.ytPlayer.seekTo(e,!0)}play(t=null){if(t&&this.seek(t),!this.state.playerInitialized)return!1;this.html.ytPlayer.playVideo()}pause(){if(!this.state.playerInitialized)return!1;this.html.ytPlayer.pauseVideo()}setVolume(t){this.state.volume=t,this.state.playerInitialized&&this.html.ytPlayer.setVolume(t)}cuePlaylist(t,e=null,i=0,n=null){if(!this.state.playerInitialized)return!1;this.html.ytPlayer.cuePlaylist(t)}reset(){this.stopFollowing(),this.html.ytPlayer&&(this.html.ytPlayer.destroy(),this.html.ytPlayer=null)}setUpWrappingDiv(){if(this.html.wrapper)return!0;var t=document.getElementById(this.settings.wrapperId);this.html.wrapper=t||this.createDiv(this.settings.wrapperId,document.body),this.createDiv(this.settings.embbedId,this.html.wrapper)}async initializePlayer(){return new Promise(async(t,e)=>{var i=this.settings.width,n=this.settings.height;"auto"==this.settings.width&&(n=(i=this.html.wrapper.offsetWidth)/1.77),this.html.ytPlayer=new YT.Player(this.settings.embbedId,{width:i,height:n,videoId:this.data.id,startSeconds:0,host:"https://www.youtube.com",playerVars:{autoplay:1,controls:0},events:{onReady:e=>{t(this),this.setVolume(this.volume)},onError:t=>{var i=s.getErrorDescription(t);e(i),this.dispatchEvent("error",{errorCode:t,errorMessage:i})},onStateChange:this.callBackOnStateChange.bind(this)}})})}startFollowing(){this.follower=setInterval(this.following.bind(this),1e3)}stopFollowing(){clearInterval(this.follower)}following(){var t=this.html.ytPlayer&&this.html.ytPlayer.getCurrentTime?this.html.ytPlayer.getCurrentTime():0;t!=this.currentTime&&(this.state.currentTime=t,this.dispatchEvent("timeupdate"))}callBackOnStateChange(t){switch(t.data){case-1:this.state.reproducing=!1,this.state.playing=!1,this.state.paused=!1;break;case 0:this.state.reproducing=!1,this.state.playing=!1,this.state.paused=!0,this.state.waiting=!1,this.stopFollowing(),this.dispatchEvent("ended");break;case 1:var e=this.state.waiting;this.state.reproducing=!0,this.state.playing=!0,this.state.paused=!1,this.state.buffering=!1,this.state.waiting=!1,this.startFollowing(),e?this.dispatchEvent("playing"):this.dispatchEvent("play");break;case 2:this.state.reproducing=!1,this.state.playing=!1,this.state.paused=!0,this.state.waiting=!1,this.dispatchEvent("pause");break;case 3:this.state.reproducing=!1,this.state.playing=!0,this.state.paused=!1,this.state.buffering=!0,this.state.waiting=!0,this.dispatchEvent("waiting");break;case 5:this.play(0),this.dispatchEvent("play")}}createDiv(t,e){var i=document.createElement("div");return i.id=t,e.append(i),i}}s.sdkPromisse=null,s.sdkLoaded=!1,s.count=0,s.prototype.defaults={width:640,height:360},s.loadSdk=async function(){return new Promise(async(t,e)=>{r("https://www.youtube.com/iframe_api").then(async()=>{setTimeout(()=>{s.sdkLoaded=!0,t("YouTube SDK ready")},500)},()=>{e("Error loading SDK")})})},s.getIdFromUrl=function(t){var e;return(e=t.match(/v=([A-Za-z0-9-_]+)/))?e[1]:(e=t.match(/\.be\/([A-Za-z0-9-_]+)/))?e[1]:(e=t.match(/embed\/([A-Za-z0-9-_]+)/))?e[1]:null},s.getErrorDescription=function(t){switch(t){case 2:return"Error 2: invalid parameters.";case 5:return"Error 5: An error related to the HTML5 player occurred.";case 100:return"Error 100: Video not found.";case 101:case 150:return"Error 101: The video's owner won't allow it on embbed players."}return"Error "+t+": Unknown error"},t.exports=s},function(t,e,i){"use strict";const n=i(3);class r extends n{constructor(){super(),this.state={paused:!1,playing:!1,reproducing:!1,buffering:!1,waiting:!1,ended:!1,volume:100}}get paused(){return this.state.paused}get playing(){return this.state.playing}get buffering(){return this.state.buffering}get reproducing(){return this.state.reproducing}get waiting(){return this.state.waiting}get ended(){return this.state.ended}get volume(){return this.state.volume}get remainingTime(){return this.duration-this.currentTime}get formattedDuration(){return r.secondsToStringRepresentation(this.duration)}get formattedCurrentTime(){return r.secondsToStringRepresentation(this.currentTime)}get formattedRemainingTime(){return r.secondsToStringRepresentation(this.remainingTime)}toggle(){this.playing?this.pause():this.play()}get currentPercentage(){var t,e;return t=Math.round(this.currentTime),e=Math.round(this.duration),isNaN(t)||isNaN(e)?0:0==t||0==e?0:t/e*100}get remainingPercentage(){return 100-this.currentPercentage}getTime(t){return Math.round(this.duration/100*t)}getFormattedTime(t){return r.secondsToStringRepresentation(this.getTime(seconds))}getPercentage(t){return("string"==typeof t&&t.indexOf(":")>=0?r.stringRepresentationToSeconds(t):parseFloat(t))/this.duration*100}sanitizeGetSeconds(t){var e;return e="string"==typeof t&&t.indexOf(":")>=0?r.stringRepresentationToSeconds(t):"string"==typeof t&&t.indexOf("%")>=0?this.getTime(parseInt(t)):"string"==typeof t?parseInt(t):t,isNaN(e)&&(e=0),e}log(t){console.log(t)}}r.secondsToStringRepresentation=function(t){return isNaN(t)?"00:00":(t=Math.round(t),a=(r=(r=(i=Math.floor(t/60))-60*(e=Math.floor(i/60)))<10?"0"+r:r)+":"+(s=(s=t-60*i)<10?"0"+s:s),a=(n=e)>0?n+":"+a:a);var e,i,n,r,s,a},r.stringRepresentationToSeconds=function(t){var e,i,n;return!((e=t.match(/[0-9]+/g)).length>3)&&(n=parseInt(e[e.length-1]),i=parseInt(e[e.length-2]||0),3600*parseInt(e[e.length-3]||0)+60*i+n)},t.exports=r},function(t,e,i){"use strict";const n=i(4);class r{constructor(){this.events={}}registerEvent(t){return this.events[t]=new n(t,this)}getEvent(t){return this.events[t]?this.events[t]:this.registerEvent(t)}addEventListener(t,e){return this.getEvent(t).addCallback(e),this}removeEventListener(t,e){return this.getEvent(t).removeCallback(e),this}dispatchEvent(t,e={}){this.getEvent(t).fire(e)}}r.arrayAddEventListener=function(t,e,i){for(var n of t)n.addEventListener(e,i)},t.exports=r},function(t,e,i){"use strict";t.exports=class{constructor(t,e){this.name=t,this.object=e,this.callbacks=[]}addCallback(t){this.callbacks.indexOf(t)>=0||this.callbacks.push(t)}removeCallback(t){if(this.callbacks.length){var e=this.callbacks.indexOf(t);e<0||delete this.callbacks[e]}}fire(t={}){if(this.callbacks.length)for(var e of this.callbacks)e.call(this.object,t)}}},function(t,e){t.exports.loadExternalJs=async function(t){return new Promise(async function(e,i){var n;(n=document.createElement("script")).async=!0,n.type="text/javascript",n.onload=function(t){e("SCRIPT: loaded")},n.onerror=function(t){i("SCRIPT: failed to load")},n.src=t,document.body.appendChild(n)})}}]);